<div class="container">
  <h2>Liste des Suggestions</h2>

  <!-- Barre de recherche -->
  <div class="search-bar">
    <input 
      type="text" 
      [(ngModel)]="searchText" 
      placeholder="Rechercher par titre..."
      class="search-input">
    
    <select [(ngModel)]="searchCategory" class="search-select">
      <option value="">Toutes les catÃ©gories</option>
      <option value="Infrastructure et bÃ¢timents">Infrastructure et bÃ¢timents</option>
      <option value="Technologie et services numÃ©riques">Technologie et services numÃ©riques</option>
      <option value="Restauration et cafÃ©tÃ©ria">Restauration et cafÃ©tÃ©ria</option>
      <option value="HygiÃ¨ne et environnement">HygiÃ¨ne et environnement</option>
      <option value="Transport et mobilitÃ©">Transport et mobilitÃ©</option>
      <option value="ActivitÃ©s et Ã©vÃ©nements">ActivitÃ©s et Ã©vÃ©nements</option>
      <option value="SÃ©curitÃ©">SÃ©curitÃ©</option>
      <option value="Communication interne">Communication interne</option>
      <option value="AccessibilitÃ©">AccessibilitÃ©</option>
      <option value="Autre">Autre</option>
    </select>

    <button (click)="onAdd()" class="btn-add">â• Ajouter une suggestion</button>
  </div>

  <!-- Liste des suggestions -->
  <div class="suggestions-grid">
    <div *ngFor="let s of filterSuggestions()" class="suggestion-card">
      <h3>{{ s.title }}</h3>
      <p class="description">{{ s.description }}</p>
      <p><strong>CatÃ©gorie:</strong> {{ s.category }}</p>
      <p><strong>Status:</strong> <span class="status">{{ s.status }}</span></p>
      <p><strong>Date:</strong> {{ s.date | date:'dd/MM/yyyy' }}</p>
      
      <div class="actions">
        <button (click)="incrementLike(s)" class="btn-like">
          â¤ï¸ {{ s.likes || 0 }}
        </button>
        <button (click)="addToFavorites(s)" class="btn-favorite">
          â­ Favoris
        </button>
        <button (click)="goToDetails(s.id)" class="btn-details">
          ğŸ‘ï¸ DÃ©tails
        </button>
        <button (click)="deleteSuggestion(s.id)" class="btn-delete">
          ğŸ—‘ï¸ Supprimer
        </button>
      </div>
    </div>
  </div>

  <!-- Message si aucune suggestion -->
  <div *ngIf="filterSuggestions().length === 0" class="no-results">
    <p>Aucune suggestion trouvÃ©e.</p>
  </div>

  <!-- Favoris -->
  <div *ngIf="favorites.length > 0" class="favorites-section">
    <h3>â­ Mes Favoris ({{ favorites.length }})</h3>
    <ul>
      <li *ngFor="let f of favorites">{{ f.title }}</li>
    </ul>
  </div>
</div>